
# This default action priority list is automatically created based on your character.
# It is a attempt to provide you with a action list that is both simple and practicable,
# while resulting in a meaningful and good simulation. It may not result in the absolutely highest possible dps.
# Feel free to edit, adapt and improve it to your own needs.
# SimulationCraft is always looking for updates and improvements to the default action lists.

# Executed before combat begins. Accepts non-harmful actions only.
actions.precombat=flask
actions.precombat+=/food
actions.precombat+=/augmentation
actions.precombat+=/snapshot_stats

# Executed every time the actor is available.
actions=auto_attack
actions+=/run_action_list,name=deathbringer,if=hero_tree.deathbringer
actions+=/run_action_list,name=sanlayn,if=hero_tree.sanlayn

actions.deathbringer=variable,name=death_strike_dump_amount,value=50
actions.deathbringer+=/variable,name=bone_shield_refresh_value,value=9
actions.deathbringer+=/variable,name=heart_strike_rp_drw,value=(25+spell_targets.heart_strike*talent.heartbreaker.enabled*2)
actions.deathbringer+=/potion,if=buff.dancing_rune_weapon.up
actions.deathbringer+=/deaths_caress,if=!buff.bone_shield.up
actions.deathbringer+=/death_strike,if=buff.coagulopathy.remains<=gcd|runic_power.deficit<35
actions.deathbringer+=/blood_boil,if=pet.dancing_rune_weapon.active&pet.dancing_rune_weapon.remains>=(14-2*gcd)
actions.deathbringer+=/blood_boil,if=dot.reapers_mark.ticking&dot.reapers_mark.remains<3
actions.deathbringer+=/use_items,if=buff.bone_shield.stack>=10
actions.deathbringer+=/blood_boil,if=!dot.blood_plague.ticking|(charges_fractional>=1&dot.reapers_mark.ticking&buff.coagulopathy.remains>2*gcd)
actions.deathbringer+=/death_and_decay,if=(dot.reapers_mark.ticking&!death_and_decay.ticking)|!buff.death_and_decay.up
actions.deathbringer+=/marrowrend,if=(buff.exterminate_painful_death.up|buff.exterminate.up)&(runic_power.deficit>30&buff.coagulopathy.remains>2*gcd)
actions.deathbringer+=/raise_dead
actions.deathbringer+=/abomination_limb,if=dot.reapers_mark.ticking
actions.deathbringer+=/reapers_mark,if=!dot.reapers_mark.ticking
actions.deathbringer+=/bonestorm,if=buff.bone_shield.stack>5&cooldown.dancing_rune_weapon.remains>=10&dot.reapers_mark.ticking
actions.deathbringer+=/consumption,if=dot.reapers_mark.ticking
actions.deathbringer+=/abomination_limb
actions.deathbringer+=/blooddrinker,if=buff.coagulopathy.remains>4&!buff.dancing_rune_weapon.up
actions.deathbringer+=/dancing_rune_weapon,if=!buff.dancing_rune_weapon.up&buff.coagulopathy.remains>2*gcd
actions.deathbringer+=/marrowrend,if=!dot.bonestorm.ticking&(buff.bone_shield.stack<variable.bone_shield_refresh_value&runic_power.deficit>20|buff.bone_shield.remains<=3)
actions.deathbringer+=/blood_fury,if=cooldown.dancing_rune_weapon.ready
actions.deathbringer+=/berserking,if=cooldown.dancing_rune_weapon.ready
actions.deathbringer+=/tombstone,if=cooldown.bonestorm.up&buff.bone_shield.stack>10&runic_power.deficit>=30&cooldown.dancing_rune_weapon.remains>=10
actions.deathbringer+=/bonestorm,if=buff.bone_shield.stack>5&cooldown.dancing_rune_weapon.remains>=10
actions.deathbringer+=/tombstone,if=buff.bone_shield.stack>5&runic_power.deficit>=30&cooldown.dancing_rune_weapon.remains>=10
actions.deathbringer+=/soul_reaper,if=active_enemies=1&target.time_to_pct_35<5&target.time_to_die>(dot.soul_reaper.remains+5)
actions.deathbringer+=/blood_boil,if=charges>=2|(full_recharge_time<=gcd.max)
actions.deathbringer+=/consumption
actions.deathbringer+=/death_strike,if=runic_power.deficit<=variable.heart_strike_rp_drw|runic_power>=variable.death_strike_dump_amount
actions.deathbringer+=/blood_tap,if=rune<=1
actions.deathbringer+=/blood_boil,if=charges_fractional>=1.1&buff.hemostasis.stack<5
actions.deathbringer+=/heart_strike,if=rune.time_to_2<gcd|runic_power.deficit>=variable.heart_strike_rp_drw
actions.deathbringer+=/blood_boil

actions.sanlayn=variable,name=death_strike_dump_amount,value=65
actions.sanlayn+=/variable,name=bone_shield_refresh_value,value=12
actions.sanlayn+=/variable,name=heart_strike_rp_drw,value=(25+spell_targets.heart_strike*talent.heartbreaker.enabled*2)
actions.sanlayn+=/potion,if=buff.dancing_rune_weapon.up
actions.sanlayn+=/heart_strike,if=buff.vampiric_blood.up&(buff.essence_of_the_blood_queen.remains<2*gcd)
actions.sanlayn+=/heart_strike,if=buff.vampiric_strike.up&(buff.essence_of_the_blood_queen.remains<3)
actions.sanlayn+=/vampiric_blood,if=!(cooldown.bonestorm.up|cooldown.dancing_rune_weapon.up|cooldown.tombstone.up)
actions.sanlayn+=/deaths_caress,if=!buff.bone_shield.up
actions.sanlayn+=/death_strike,if=buff.coagulopathy.remains<=gcd
actions.sanlayn+=/use_items,if=buff.bone_shield.stack>=10
actions.sanlayn+=/blood_boil,if=!dot.blood_plague.ticking
actions.sanlayn+=/death_and_decay,if=!death_and_decay.ticking
actions.sanlayn+=/raise_dead
actions.sanlayn+=/dancing_rune_weapon,if=!buff.dancing_rune_weapon.up
actions.sanlayn+=/marrowrend,if=!dot.bonestorm.ticking&(buff.bone_shield.stack<variable.bone_shield_refresh_value&runic_power.deficit>20|buff.bone_shield.remains<=3)
actions.sanlayn+=/consumption,if=buff.vampiric_blood.remains<=3|buff.infliction_of_sorrow.up|cooldown.vampiric_blood.remains>5
actions.sanlayn+=/death_strike,if=(buff.vampiric_blood.up&buff.coagulopathy.remains<3)
actions.sanlayn+=/heart_strike,if=buff.vampiric_strike.up
actions.sanlayn+=/abomination_limb
actions.sanlayn+=/blood_fury,if=cooldown.dancing_rune_weapon.ready
actions.sanlayn+=/berserking,if=cooldown.dancing_rune_weapon.ready
actions.sanlayn+=/bonestorm,if=buff.bone_shield.stack>5&cooldown.dancing_rune_weapon.remains>=25
actions.sanlayn+=/tombstone,if=buff.bone_shield.stack>5&runic_power.deficit>=30&cooldown.dancing_rune_weapon.remains>=25
actions.sanlayn+=/soul_reaper,if=active_enemies=1&target.time_to_pct_35<5&target.time_to_die>(dot.soul_reaper.remains+5)
actions.sanlayn+=/blood_boil,if=charges>=2|(full_recharge_time<=gcd.max)
actions.sanlayn+=/death_strike,if=runic_power.deficit<=variable.heart_strike_rp_drw|runic_power>=variable.death_strike_dump_amount
actions.sanlayn+=/blood_boil
